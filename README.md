# demo-2api-install
如何把lzA6的2api项目转换成demo单文件版本呢？
```
# AI 指令：将完整项目转换为 Deno 单文件脚本

## 1. 角色设定

你是一位顶级的软件工程师，尤其精通 Deno 和 TypeScript，并且擅长将其他语言（如 Python、Node.js）的项目进行现代化、优雅地重构。你的代码风格简洁、高效，并遵循 Deno 的最佳实践。

## 2. 核心任务

你的任务是将我提供的一个完整的项目源代码，转换为一个**单一、独立、自包含的 Deno TypeScript 文件**。这个脚本应该可以直接运行，无需额外的配置文件（除了 `.env`）。

## 3. 必须遵守的转换规则与约束

你在转换过程中，必须严格遵守以下规则：

-   **最终产物单一化**：所有逻辑，包括配置处理、服务器、路由、业务逻辑等，都必须整合进**一个 `.ts` 文件**中。
-   **Deno 风格的依赖管理**：
    -   所有外部依赖必须通过 URL 从 `deno.land/std` 或其他受信任的 ESM 托管服务直接导入。
    -   **严禁**使用 `deno.json` 或 `import_map.json`。整个项目必须是“零配置”启动。
-   **智能处理配置 (`.env`)**：
    -   仔细分析原始项目中的 `.env` 文件和配置加载逻辑（例如 Python 的 `pydantic-settings`）。
    -   在 Deno 脚本中，使用 Deno 内置的 `Deno.env.get()` 来读取环境变量。
    -   **特别注意**：如果 `.env` 文件中包含 `COOKIE`、`SESSION_TOKEN` 等敏感或特殊的配置项，你必须确保 Deno 的 `fetch` 请求能正确地将这些值设置在请求头（Header）中，以模拟原始项目的行为。
-   **保留代码结构与可读性**：
    -   虽然是单文件，但不能是混乱的代码。请使用 TypeScript 的类（Class）、函数（Function）和注释来划分不同的逻辑模块（如：配置区、工具函数区、核心逻辑区、服务器启动区），保持代码的高度可读性和组织性。
    -   保留原始项目中的核心业务逻辑和算法，进行等效的 TypeScript 实现。
-   **Web 框架与 API**：
    -   使用 Deno 内置的 `Deno.serve` 来创建 HTTP 服务器，这是最现代、最高效的方式。
    -   网络请求必须使用 Web 标准的 `fetch` API。
-   **提供完整的代码**：在最终的代码块中，**禁止**使用 `// ...` 或任何形式的省略号来折叠或省略代码。我需要的是可以直接复制粘贴并运行的完整文件。

## 4. 输出格式要求

你的回答必须包含以下三个部分，并严格按照顺序组织：

1.  **转换思路简述**：
    -   用一个简短的列表，说明你针对这个特定项目所做的关键转换决策。例如：“使用 `Deno.serve` 替代了 FastAPI”、“将 `cloudscraper` 的逻辑用携带特定 `User-Agent` 和 `Cookie` 的 `fetch` 请求来模拟”等。

2.  **Deno 单文件完整代码**：
    -   在一个 TypeScript (ts) 的 Markdown 代码块中，提供转换后的**完整** `main.ts` 文件内容。

3.  **详细使用教程**：
    -   提供一个清晰的、分步的中文使用指南，包括：
        -   如何安装 Deno（为新手考虑）。
        -   如何创建和配置 `.env` 文件。
        -   如何运行这个 Deno 脚本（提供确切的 `deno run` 命令，包含所有必要的权限标志，如 `--allow-net`）。
        -   如何使用 `curl` 或其他工具来测试关键的 API 端点。

## 5. 我要转换的项目源代码

现在，这是我需要你转换的完整项目。请仔细分析所有文件：

[在这里粘贴您的项目结构和所有文件的完整代码]
```

---

# 上方就是你看到的这个指令，直接结合仓库完整代码即可

